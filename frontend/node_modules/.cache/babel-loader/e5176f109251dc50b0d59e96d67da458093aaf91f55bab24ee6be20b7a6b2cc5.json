{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const TitleGame=()=>{const[quote,setQuote]=useState(null);const[guess,setGuess]=useState('');const[time,setTime]=useState(30);const[isCorrect,setIsCorrect]=useState(null);const[showAnswer,setShowAnswer]=useState(false);const fetchQuote=async()=>{const response=await axios.get('http://localhost:8080/game/titlefromline/problems',{params:{count:1}});setQuote(response.data.data[0]);setGuess('');setTime(30);setIsCorrect(null);setShowAnswer(false);};useEffect(()=>{fetchQuote();},[]);useEffect(()=>{const timer=setInterval(()=>{setTime(prevTime=>{if(prevTime>0){return prevTime-1;}else{clearInterval(timer);setIsCorrect(false);setShowAnswer(true);setTimeout(fetchQuote,3000);return 0;}});},1000);return()=>clearInterval(timer);},[]);const handleGuess=()=>{if(guess.toLowerCase()===quote.title.toLowerCase()){setIsCorrect(true);setTimeout(fetchQuote,2000);}else{setIsCorrect(false);setShowAnswer(true);setTimeout(fetchQuote,3000);}};if(!quote)return/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-8\",children:\"Loading...\"});return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-100\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded shadow-md w-96 text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xl font-semibold mb-4\",children:quote.line}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:guess,onChange:e=>setGuess(e.target.value),placeholder:\"\\uC601\\uD654 \\uC774\\uB984\\uC744 \\uB9DE\\uCD94\\uC138\\uC694\",className:\"w-full px-4 py-2 border rounded mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleGuess,className:\"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\",children:\"\\uD655\\uC778\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-4 text-gray-700\",children:[\"\\uB0A8\\uC740 \\uC2DC\\uAC04: \",time,\"\\uCD08\"]}),isCorrect!==null&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-lg \".concat(isCorrect?'text-green-500':'text-red-500'),children:isCorrect?'정답입니다!':'틀렸습니다!'}),showAnswer&&!isCorrect&&/*#__PURE__*/_jsxs(\"p\",{className:\"mt-2 text-gray-700\",children:[\"\\uC815\\uB2F5: \",quote.title]})]})});};export default TitleGame;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","TitleGame","quote","setQuote","guess","setGuess","time","setTime","isCorrect","setIsCorrect","showAnswer","setShowAnswer","fetchQuote","response","get","params","count","data","timer","setInterval","prevTime","clearInterval","setTimeout","handleGuess","toLowerCase","title","className","children","line","type","value","onChange","e","target","placeholder","onClick","concat"],"sources":["/Users/dusanbaek/Desktop/SE_FE/src/pages/Game/TitleGame/index.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst TitleGame: React.FC = () => {\n  const [quote, setQuote] = useState<any>(null);\n  const [guess, setGuess] = useState('');\n  const [time, setTime] = useState(30);\n  const [isCorrect, setIsCorrect] = useState<boolean | null>(null);\n  const [showAnswer, setShowAnswer] = useState(false);\n\n  const fetchQuote = async () => {\n    const response = await axios.get('http://localhost:8080/game/titlefromline/problems', {\n      params: { count: 1 }\n    });\n    setQuote(response.data.data[0]);\n    setGuess('');\n    setTime(30);\n    setIsCorrect(null);\n    setShowAnswer(false);\n  };\n\n  useEffect(() => {\n    fetchQuote();\n  }, []);\n\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setTime((prevTime) => {\n        if (prevTime > 0) {\n          return prevTime - 1;\n        } else {\n          clearInterval(timer);\n          setIsCorrect(false);\n          setShowAnswer(true);\n          setTimeout(fetchQuote, 3000);\n          return 0;\n        }\n      });\n    }, 1000);\n    return () => clearInterval(timer);\n  }, []);\n\n  const handleGuess = () => {\n    if (guess.toLowerCase() === quote.title.toLowerCase()) {\n      setIsCorrect(true);\n      setTimeout(fetchQuote, 2000);\n    } else {\n      setIsCorrect(false);\n      setShowAnswer(true);\n      setTimeout(fetchQuote, 3000);\n    }\n  };\n\n  if (!quote) return <div className=\"text-center mt-8\">Loading...</div>;\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-100\">\n      <div className=\"bg-white p-8 rounded shadow-md w-96 text-center\">\n        <p className=\"text-xl font-semibold mb-4\">{quote.line}</p>\n        <input \n          type=\"text\" \n          value={guess} \n          onChange={(e) => setGuess(e.target.value)} \n          placeholder=\"영화 이름을 맞추세요\" \n          className=\"w-full px-4 py-2 border rounded mb-4 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n        <button \n          onClick={handleGuess}\n          className=\"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\"\n        >\n          확인\n        </button>\n        <p className=\"mt-4 text-gray-700\">남은 시간: {time}초</p>\n        {isCorrect !== null && (\n          <p className={`mt-4 text-lg ${isCorrect ? 'text-green-500' : 'text-red-500'}`}>\n            {isCorrect ? '정답입니다!' : '틀렸습니다!'}\n          </p>\n        )}\n        {showAnswer && !isCorrect && (\n          <p className=\"mt-2 text-gray-700\">정답: {quote.title}</p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default TitleGame;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}