{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UploadLine=_ref=>{let{onUploadSuccess}=_ref;const[line,setLine]=useState('');const[title,setTitle]=useState('');const[actor,setActor]=useState('');const[tags,setTags]=useState('');const[success,setSuccess]=useState('');const[error,setError]=useState('');const handleSubmit=async event=>{event.preventDefault();try{await axios.post('http://localhost:8080/myline/upload',{line,title,actor,tags:tags.split(',').map(tag=>tag.trim())},{headers:{'accept':'*/*','Content-Type':'application/json'}});setSuccess('Line uploaded successfully!');setError('');setLine('');setTitle('');setActor('');setTags('');onUploadSuccess();// 업로드 후 콜백 호출\n}catch(err){setError('Failed to upload line. Please try again.');setSuccess('');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded shadow-md mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-center mb-4\",children:\"Upload Famous Line\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:line,onChange:e=>setLine(e.target.value),placeholder:\"Famous Line\",className:\"w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:e=>setTitle(e.target.value),placeholder:\"Movie Title\",className:\"w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:actor,onChange:e=>setActor(e.target.value),placeholder:\"Actor\",className:\"w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:tags,onChange:e=>setTags(e.target.value),placeholder:\"Tags (comma separated)\",className:\"w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"text-red-500 text-sm\",children:error}),success&&/*#__PURE__*/_jsx(\"p\",{className:\"text-green-500 text-sm\",children:success}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\",children:\"Upload\"})]})]});};export default UploadLine;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","UploadLine","_ref","onUploadSuccess","line","setLine","title","setTitle","actor","setActor","tags","setTags","success","setSuccess","error","setError","handleSubmit","event","preventDefault","post","split","map","tag","trim","headers","err","className","children","onSubmit","type","value","onChange","e","target","placeholder","required"],"sources":["/Users/dusanbaek/Desktop/SE_FE/src/pages/Board/UploadLine.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\n\ninterface UploadLineProps {\n  onUploadSuccess: () => void;\n}\n\nconst UploadLine: React.FC<UploadLineProps> = ({ onUploadSuccess }) => {\n  const [line, setLine] = useState('');\n  const [title, setTitle] = useState('');\n  const [actor, setActor] = useState('');\n  const [tags, setTags] = useState('');\n  const [success, setSuccess] = useState('');\n  const [error, setError] = useState('');\n\n  const handleSubmit = async (event: React.FormEvent) => {\n    event.preventDefault();\n    try {\n      await axios.post('http://localhost:8080/myline/upload', {\n        line,\n        title,\n        actor,\n        tags: tags.split(',').map(tag => tag.trim())\n      }, {\n        headers: {\n          'accept': '*/*',\n          'Content-Type': 'application/json'\n        }\n      });\n      setSuccess('Line uploaded successfully!');\n      setError('');\n      setLine('');\n      setTitle('');\n      setActor('');\n      setTags('');\n      onUploadSuccess(); // 업로드 후 콜백 호출\n    } catch (err) {\n      setError('Failed to upload line. Please try again.');\n      setSuccess('');\n    }\n  };\n\n  return (\n    <div className=\"bg-white p-8 rounded shadow-md mb-8\">\n      <h2 className=\"text-2xl font-semibold text-center mb-4\">Upload Famous Line</h2>\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <input\n          type=\"text\"\n          value={line}\n          onChange={(e) => setLine(e.target.value)}\n          placeholder=\"Famous Line\"\n          className=\"w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          required\n        />\n        <input\n          type=\"text\"\n          value={title}\n          onChange={(e) => setTitle(e.target.value)}\n          placeholder=\"Movie Title\"\n          className=\"w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          required\n        />\n        <input\n          type=\"text\"\n          value={actor}\n          onChange={(e) => setActor(e.target.value)}\n          placeholder=\"Actor\"\n          className=\"w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          required\n        />\n        <input\n          type=\"text\"\n          value={tags}\n          onChange={(e) => setTags(e.target.value)}\n          placeholder=\"Tags (comma separated)\"\n          className=\"w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n        />\n        {error && <p className=\"text-red-500 text-sm\">{error}</p>}\n        {success && <p className=\"text-green-500 text-sm\">{success}</p>}\n        <button\n          type=\"submit\"\n          className=\"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50\"\n        >\n          Upload\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default UploadLine;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}